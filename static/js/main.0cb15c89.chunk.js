(this["webpackJsonphome-climate-monitor"]=this["webpackJsonphome-climate-monitor"]||[]).push([[0],{115:function(e,t,a){"use strict";a.r(t);var r=a(1),i=a.n(r),n=a(23),s=a.n(n),c=(a(49),a(50),a(4)),l=a.n(c),d=a(25),o=a(5),u=a(9),h=a(10),p=a(7),v=a(12),m=a(11),b=(a(52),a(24)),f=a.n(b),j=a(41),x=a(44),g=function(e){return Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())},y=function(e){if(!e)return null;var t=navigator.language,a=null;return a=typeof e!==Object?new Date(e+"Z").getTime():new Date(e).getTime(),new Intl.DateTimeFormat([t,"en-GB"],{dateStyle:"short",timeStyle:"long",hour12:!1}).format(a)},O=function(e){var t=e.getTimezoneOffset();return new Date(e.getTime()-60*t*1e3).toISOString().split("T")[0]},k=function(e){var t=new Date;return O(t)===O(e)},D=a(0),w=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleClick=r.handleClick.bind(Object(p.a)(r)),r}return Object(h.a)(a,[{key:"lastReadingWarning",value:function(){return function(e){if(void 0===e||null==e)return!0;var t=new Date(e),a=g(t),r=new Date;return(g(r)-a)/1e3+r.getTimezoneOffset()>3600}(this.props.date)}},{key:"handleClick",value:function(e){this.props.clickHandler(this.props.title)}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"col s12 m5 l3",children:Object(D.jsx)("div",{className:"card card-pointer blue-grey ".concat(this.props.selected?"darken-3":"darken-4"),onClick:this.handleClick,children:Object(D.jsx)("div",{className:"card grey ".concat(this.props.selected?"darken-3":"darken-4"),children:Object(D.jsxs)("div",{className:"card-content white-text",children:[Object(D.jsx)("span",{className:"card-span",children:this.props.title?this.props.title:"Title"}),this.lastReadingWarning()?Object(D.jsx)("span",{className:"card-warning-icon",children:Object(D.jsx)("i",{className:"material-icons yellow-text",children:"warning"})}):null,Object(D.jsx)("span",{className:"card-title",children:null!==this.props.temperature||void 0!==this.props.temperature?this.props.temperature.toFixed(1)+"\xb0C":"Temperature Error"}),Object(D.jsxs)("div",{className:"card-humidity-battery",children:[Object(D.jsx)("p",{className:"card-span",children:void 0!==this.props.humidity&&this.props.humidity>0?this.props.humidity+"%":""}),Object(D.jsxs)("div",{className:"battery card-battery-icon ".concat(this.props.battery?"":"card-battery-hidden"),children:[Object(D.jsx)("span",{className:"battery-level-text",children:this.props.battery+"%"}),Object(D.jsx)("span",{className:"battery-level ".concat(this.props.battery<10?"battery-level-alert":""),style:{height:this.props.battery<10?"20% ":this.props.battery+"%"}})]})]}),Object(D.jsx)("div",{className:"divider"}),Object(D.jsx)("span",{className:"card-span ".concat(this.lastReadingWarning()&&"red-text"),children:this.props.date?y(this.props.date):"Date Error"})]})})})})}}]),a}(r.Component),N=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).getDeviceDescription=function(e){var t=r.props.devices.filter((function(t){return e===t.serial}));return 0!==t.length?t[0].description:""},r.dateTimeIsWithinLast2Days=function(e){var t=new Date(e),a=new Date;return a.setDate(a.getDate()-2),t.getTime()>a},r.deviceCard=function(){if(null!==r.props.readings&&void 0!==r.props.readings[0]&&void 0!==r.props.devices)return r.props.readings.map((function(e){return void 0!==e&&void 0!==e[0]&&r.dateTimeIsWithinLast2Days(e[0].timestamp)?Object(D.jsx)(w,{title:r.getDeviceDescription(e[0].serial),humidity:e[0].humidity,temperature:e[0].temperature,battery:e[0].battery,date:e[0].timestamp,clickHandler:r.clickHandler,selected:r.props.selectedDevice===r.getDeviceDescription(e[0].serial)},e[0].serial):""}))},r.clickHandler=r.clickHandler.bind(Object(p.a)(r)),r}return Object(h.a)(a,[{key:"clickHandler",value:function(e){this.props.clickHandler(e)}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"row",children:void 0!==this.props.devices?this.deviceCard():""})}}]),a}(r.Component),_=a(42),C=a.n(_),S=a(43),T=a.n(S)()(C.a),L=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).state={labels:[],label:null,xData:[],yData:[],dateData:[],chartData:{},options:{},text:null,reducedXVals:r.reduceXDataForTicks(),loading:!0},r}return Object(h.a)(a,[{key:"reduceXDataForTicks",value:function(){return function(e,t){if(void 0===e||null===e)return null;var a=e.length,r=0;if(a<t)return null;if(t<2)return null;if(a<1)return null;if(1===a)return e;if(2===t)return function(e){if(void 0===e||null===e)return null;var t=e.length;return t<1?null:1===t?e:[e[0],e[t-1]]}(e);r=t%2===1?Math.floor(a/t)+1:Math.floor(a/t);for(var i=[],n=0;n<=a-r;n+=r)i.push(e[n]);return i.push(e[a-1]),i}(this.props.xData,4)}},{key:"getTickVals",value:function(){return this.state.reducedXVals.map((function(e){return new Date(e).getTime().toString()}))}},{key:"getTextVals",value:function(){return this.state.reducedXVals.map((function(e){return function(e){if(!e)return null;var t=navigator.language,a=null;return a=typeof e!==Object?new Date(e+"Z").getTime():new Date(e).getTime(),new Intl.DateTimeFormat([t,"en-GB"],{timeStyle:"long",hour12:!1}).format(a)}(e)}))}},{key:"getMinOfArray",value:function(e){return Math.min.apply(null,e)}},{key:"getMaxOfArray",value:function(e){return Math.max.apply(null,e)}},{key:"componentDidMount",value:function(){var e=Math.round(this.getMinOfArray(this.props.yDataLeft)-1),t=Math.round(this.getMaxOfArray(this.props.yDataLeft)+1),a=Math.round(this.getMinOfArray(this.props.yDataRight)-1),r=Math.round(this.getMaxOfArray(this.props.yDataRight)+1),i=this.props.xData.map((function(e){return y(e)})),n=function(e,t){for(var a=Object(x.a)(e),r=1;r<e.length;r++)Math.abs(e[r]-e[r-1])>t&&a.splice(r-1,0,null);return a}(this.props.xData.map((function(e){return new Date(e+"Z").getTime()})),4e4);this.setState({minY1:e,maxY1:t,text:i,xVals:n,loading:!1,options:{color:"#FFF",elements:{point:{radius:0}},responsive:!0,scales:{y:{type:"linear",position:"left",grid:{color:"rgba(255, 255, 255, 0.1)"},min:e,max:t,ticks:{display:!0,stepSize:.5,color:"rgba(255, 255, 255, 0.7)"}},y1:{type:"linear",position:"right",grid:{drawOnChartArea:!1},min:a,max:r,ticks:{display:!0,stepSize:1,color:"rgba(255, 255, 255, 0.7)"}},x:{grid:{color:"rgba(255, 255, 255, 0.1)"},ticks:{display:!0,color:"rgba(255, 255, 255, 0.7)"}}}}})}},{key:"componentDidUpdate",value:function(e,t){if(e.yDataLeft!==this.props.yDataLeft){var a=Math.floor(this.getMinOfArray(this.props.yDataLeft)),r=Math.ceil(this.getMaxOfArray(this.props.yDataLeft));this.setState({minY1:a,maxY1:r})}}},{key:"render",value:function(){var e=[];e=this.props.yDataRight?[{x:this.state.xVals,y:this.props.yDataLeft,name:this.props.axisNameLeft,mode:"lines",hovertemplate:this.props.hoverTemplateLeft,text:this.state.text,type:"scatter",connectgaps:!1},{x:this.state.xVals,y:this.props.yDataRight,yaxis:"y2",name:this.props.axisNameRight,mode:"lines",hovertemplate:this.props.hoverTemplateRight,text:this.state.text,type:"scatter",connectgaps:!1}]:[{x:this.state.xVals,y:this.props.yDataLeft,name:this.props.axisNameLeft,mode:"lines",hovertemplate:this.props.hoverTemplateLeft,text:this.state.text,connectgaps:!1}];var t=this.state.loading;return Object(D.jsx)("div",{children:t?Object(D.jsx)("p",{children:"Loading..."}):Object(D.jsx)(T,{data:e,layout:{margin:{t:90,b:90,l:70,r:70,pad:10},autosize:!0,legend:{orientation:"h",yanchor:"bottom",y:1.12,xanchor:"right",x:1},xaxis:{type:"linear",title:{text:"Date/Time"},autorange:!0,tickmode:"array",tickvals:this.getTickVals(),ticktext:this.getTextVals()},yaxis:{title:this.props.labelLeft,automargin:!0,range:[this.state.minY1,this.state.maxY1]},yaxis2:{title:this.props.labelRight,range:[0,100],overlaying:"y",side:"right",automargin:!0}},useResizeHandler:!0,style:{maxWidth:"100%",height:"100%"}})})}}]),a}(i.a.Component),A=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),r=t.call(this,e),Array.isArray(r.props.data)&&(r.state={data:r.props.data,temperatures:r.props.data.map((function(e){return e.temperature})),humidity:r.props.data.map((function(e){return e.humidity})),timestamps:r.props.data.map((function(e){return e.timestamp}))}),r}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(e,t){if(e.data!==this.props.data&&Array.isArray(this.props.data)){var a=this.props.data.map((function(e){return e.temperature})),r=this.props.data.map((function(e){return e.humidity})),i=this.props.data.map((function(e){return e.timestamp}));this.setState({temperatures:a,humidity:r,timestamps:i})}}},{key:"displayChart",value:function(){return null===this.state?"":null===this.state.humidity||0===this.state.humidity[0]?Object(D.jsx)(L,{labelLeft:"Temperature (\u2103)",xData:this.state.timestamps,yDataLeft:this.state.temperatures,axisNameLeft:"Temperature",hoverTemplateLeft:"%{text}<br>%{y:.1f}\xb0C<extra></extra>",title:" "}):Object(D.jsx)(L,{labelLeft:"Temperature (\u2103)",labelRight:"Humidity (%)",xData:this.state.timestamps,yDataLeft:this.state.temperatures,yDataRight:this.state.humidity,axisNameLeft:"Temperature",axisNameRight:"Humidity",hoverTemplateLeft:"%{text}<br>%{y:.1f}\xb0C<extra></extra>",hoverTemplateRight:"%{text}<br>%{y:.0f}%<extra></extra>",title:" "})}},{key:"render",value:function(){return Object(D.jsx)("div",{className:"row",children:Object(D.jsx)("div",{className:"col s12 m12 l12",children:Object(D.jsxs)("div",{className:"card blue-grey darken-1",children:[Object(D.jsx)("div",{className:"card-title white-text center-align",children:this.props.title}),Object(D.jsx)("div",{className:"card-content white-text",children:this.displayChart()})]})})})}}]),a}(r.Component),M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a=/[!"#$%&'()*+,.\xa3\\/:;<=>?@[\]^_`{|}~]/;return!(e.length<t||!0===a.test(e))},E=a(15),H=a.n(E),I="https://hcm.techdude101.com",R=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/device/"),e.next=3,P(t);case 3:return a=e.sent,e.abrupt("return",a.hasOwnProperty("data")?a.data:[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(o.a)(l.a.mark((function e(t,a,r){var i,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(I,"/device/create"),n={"Content-Type":"application/json","X-API-KEY":r},e.prev=2,e.next=5,H.a.post(i,{serial:t,description:a},{headers:n},{timeout:1e4});case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return","Error");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t,a,r){return e.apply(this,arguments)}}();function P(e){return V.apply(this,arguments)}function V(){return V=Object(o.a)(l.a.mark((function e(t){var a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:1e4,e.prev=1,e.next=4,H()({method:"get",url:t,timeout:a});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return","Error");case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),V.apply(this,arguments)}var B=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleChange=r.handleChange.bind(Object(p.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(p.a)(r)),r.state={addingDevice:!1,addButtonDisabled:!0,serial:1,description:"",key:"",keyError:!1,descriptionError:!1,addDeviceError:!1,new_device_key:null,new_device_serial:null},r}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:t=e.sent,a=0,t.forEach((function(e){a=Math.max(e.serial,a)})),this.setState({serial:a+1}),f.a.updateTextFields();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isFormValid",value:function(){var e=this.state.key,t=this.state.description,a=M(e),r=M(t);return this.setState({descriptionError:!r}),this.setState({keyError:!a}),a&&r}},{key:"handleChange",value:function(e){var t=e.target.id,a=e.target.value;M(a,3)&&e.target.validity.valid?("description"===t&&this.setState({description:a,descriptionError:!1}),"pass_or_key"===t&&this.setState({key:a,keyError:!1})):("description"===t&&this.setState({description:a,descriptionError:!0}),"pass_or_key"===t&&this.setState({key:a,keyError:!0})),this.setState({addButtonDisabled:this.state.keyError||this.state.descriptionError})}},{key:"handleSubmit",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),console.log("submit"),!1!==this.isFormValid(t)){e.next=5;break}return e.abrupt("return");case 5:return this.setState({addButtonDisabled:!0}),e.next=8,F(this.state.serial,this.state.description,this.state.key);case 8:return a=e.sent,console.log(a),a.hasOwnProperty("data")&&a.data.hasOwnProperty("key")&&a.data.hasOwnProperty("serial")?this.setState({new_device_key:a.data.key,new_device_serial:a.data.serial}):this.setState({addDeviceError:!0}),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)("h4",{className:"white-text",children:"Add a Device"}),Object(D.jsxs)("form",{className:"col s12",onSubmit:this.handleSubmit,children:[Object(D.jsxs)("div",{className:"row",children:[Object(D.jsx)("div",{className:"row",children:Object(D.jsxs)("div",{className:"input-field col s12",children:[Object(D.jsx)("input",{name:"description",id:"description",type:"text",className:"validate white-text",maxLength:"50",required:!0,value:this.state.description,onChange:this.handleChange}),Object(D.jsx)("label",{htmlFor:"description",children:"Device Description"})]})}),Object(D.jsx)("div",{className:"row",children:Object(D.jsxs)("div",{className:"input-field col s12",children:[Object(D.jsx)("input",{name:"pass_or_key",id:"pass_or_key",type:"text",className:"validate white-text",required:!0,value:this.state.key,onChange:this.handleChange}),Object(D.jsx)("label",{htmlFor:"pass_or_key",children:"Admin API Key"})]})}),Object(D.jsx)("div",{className:"row",children:this.state.keyError||this.state.descriptionError?Object(D.jsxs)("div",{className:"input-field col s12 red",children:[Object(D.jsx)("p",{children:"Error - invalid description or API key"})," "]}):null}),Object(D.jsx)("div",{className:"row",children:this.state.addDeviceError?Object(D.jsx)("div",{className:"input-field col s12 red",children:Object(D.jsx)("p",{children:"Error adding device"})}):null}),Object(D.jsx)("div",{className:"row",children:this.state.new_device_key?Object(D.jsxs)("div",{className:"input-field col s12",children:[Object(D.jsx)("p",{children:"Device added successfully"}),Object(D.jsxs)("p",{children:["API key for device serial # ",this.state.new_device_serial," = ",this.state.new_device_key]})]}):null})]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("button",{className:"waves-effect waves-light red btn-flat form-buttons",onClick:this.props.handleCancel,children:"Cancel"}),Object(D.jsx)("button",{type:"submit",className:"waves-effect waves-light green btn-flat form-buttons",children:"Add Device"})]})]})]})}}]),a}(i.a.Component),G=B,U=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/data/").concat(t,"/last"),e.next=3,z(a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,i,n,s=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:new Date,r=s.length>2&&void 0!==s[2]?s[2]:new Date,i="".concat(I,"/data/").concat(t,"?start=").concat(a.replace("Z",""),"&end=").concat(r.replace("Z","")),e.next=5,z(i);case 5:return n=e.sent,e.abrupt("return",n.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function z(e){return W.apply(this,arguments)}function W(){return W=Object(o.a)(l.a.mark((function e(t){var a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:1e4,e.prev=1,e.next=4,H()({method:"get",url:t,timeout:a});case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return","Error");case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),W.apply(this,arguments)}var X=function(e){Object(v.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).handleChangeDevice=r.handleChangeDevice.bind(Object(p.a)(r)),r.handleBurger=r.handleBurger.bind(Object(p.a)(r)),r.toggleAddDevice=r.toggleAddDevice.bind(Object(p.a)(r)),r.displayGraphs=r.displayGraphs.bind(Object(p.a)(r)),r.state={devices:null,last_readings:[],selected_device:null,device_data:null,add_device:!1,selected_date:new Date,loading:!1},r}return Object(h.a)(a,[{key:"handleBurger",value:function(e){console.log("burger")}},{key:"handleDateChange",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.value,(r=Object(d.a)({},this.state)).selected_date=a,r.loading=!0,this.setState(r),e.next=7,this.getData24Hours(this.state.selected_device.serial,a);case 7:i=e.sent,this.setState({device_data:i,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChangeDevice",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r,i,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.add_device&&this.setState({add_device:!1}),a=null,(a=t.hasOwnProperty("target")?t.target.innerText.toLowerCase():t.toLowerCase())!==this.state.selected_device.description.toLowerCase()){e.next=5;break}return e.abrupt("return");case 5:if(0===(r=this.state.devices.filter((function(e){return e.description.toLowerCase()===a}))).length){e.next=22;break}if(r=r[0],(i=Object(d.a)({},this.state)).loading=!0,this.setState(i),n=null,!k(this.state.selected_date)){e.next=18;break}return e.next=15,this.getDataLast24Hours(r.serial);case 15:n=e.sent,e.next=21;break;case 18:return e.next=20,this.getData24Hours(r.serial,this.selected_date);case 20:n=e.sent;case 21:this.setState({selected_device:r,device_data:n,loading:!1});case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDataLast24Hours",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:if(null!=t){e.next=4;break}return e.abrupt("return");case 4:return(a=new Date).setDate(a.getDate()-1),(r=new Date).setDate(r.getDate()+1),e.abrupt("return",Y(t,a.toISOString(),r.toISOString()));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getData24Hours",value:function(){var e=Object(o.a)(l.a.mark((function e(t,a){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t){e.next=2;break}return e.abrupt("return");case 2:if(null!=t){e.next=4;break}return e.abrupt("return");case 4:if(void 0!==a){e.next=6;break}return e.abrupt("return");case 6:if(null!==a){e.next=8;break}return e.abrupt("return");case 8:return(r=new Date(a)).setDate(a.getDate()+1),e.abrupt("return",Y(t,a.toISOString(),r.toISOString()));case 11:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R();case 2:if(t=e.sent,this.setState({devices:t}),void 0===this.state.devices||null===this.state.devices){e.next=15;break}return this.setState({selected_device:this.state.devices[0]}),e.next=8,Promise.all(this.state.devices.map((function(e){return U(e.serial)})));case 8:if(a=e.sent,this.setState({last_readings:a}),void 0===this.state.selected_device){e.next=15;break}return e.next=13,this.getDataLast24Hours(this.state.selected_device.serial);case 13:void 0!==(r=e.sent)&&this.setState({device_data:r});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"displayGraphs",value:function(){if(null!=this.state.device_data&&void 0!==this.state.device_data)return 0===this.state.device_data.length?Object(D.jsx)("h1",{className:"white-text center-align",children:"No Data"}):this.state.loading?Object(D.jsx)("h1",{className:"white-text center-align",children:"Loading..."}):Object(D.jsx)(A,{data:this.state.device_data,title:this.state.selected_device.description})}},{key:"displayCards",value:function(){return null!=this.state.last_readings?Object(D.jsx)(N,{selectedDevice:null!=this.state.selected_device?this.state.selected_device.description:null,readings:this.state.last_readings,devices:this.state.devices,clickHandler:this.handleChangeDevice}):null}},{key:"toggleAddDevice",value:function(){var e=this.state.add_device;this.setState({add_device:!e})}},{key:"render",value:function(){var e=this;return Object(D.jsx)("div",{children:Object(D.jsxs)("div",{className:"row margin-none",children:[Object(D.jsxs)("div",{className:"hide hide-on-med-and-up center-align",children:[Object(D.jsx)("h1",{className:"white-text margin-none header-title",children:"Dashboard"}),Object(D.jsxs)("div",{className:"burger",onClick:this.handleBurger,children:[Object(D.jsx)("div",{}),Object(D.jsx)("div",{}),Object(D.jsx)("div",{})]}),Object(D.jsxs)("ul",{className:"mobileNav",children:[null!=this.state.devices?this.state.devices.map((function(t){return Object(D.jsx)("li",{children:Object(D.jsx)("button",{onClick:e.handleChangeDevice,className:"waves-effect waves-light btn grey darken-2 sidebar-links",children:t.description})},t.serial)})):null,Object(D.jsx)("li",{children:Object(D.jsx)("button",{className:"waves-effect waves-light btn grey darken-2 sidebar-links",onClick:this.toggleAddDevice,children:this.state.add_device?"Show Graphs":"Add Device"})})]})]}),Object(D.jsx)("div",{className:"col s12 m4 l2 blue-grey darken-3 min-height-100 hide-on-med-and-down",children:Object(D.jsxs)("div",{className:"section white-text text-center",children:[Object(D.jsx)("h1",{className:"white-text sidebar-title",children:"Graphs"}),Object(D.jsx)("div",{className:"divider"}),Object(D.jsx)(j.DatePicker,{value:this.selected_date,id:"datePicker",options:{defaultDate:this.state.selected_date,setDefaultDate:!0,maxDate:new Date,showDaysInNextAndPreviousMonths:!1},onChange:function(t){e.handleDateChange({target:{id:"datePicker",value:t}})}}),Object(D.jsxs)("ul",{children:[null!=this.state.devices?this.state.devices.map((function(t){return Object(D.jsx)("li",{children:Object(D.jsx)("button",{onClick:e.handleChangeDevice,className:"waves-effect waves-light btn grey darken-2 sidebar-links",children:t.description})},t.serial)})):null,Object(D.jsx)("div",{className:"divider"}),Object(D.jsx)("li",{children:Object(D.jsx)("button",{className:"waves-effect waves-light btn green darken-4 sidebar-links",onClick:this.toggleAddDevice,children:this.state.add_device?"Show Graphs":"Add Device"})})]})]})}),Object(D.jsxs)("div",{className:"col s12 m12 l10 blue-grey darken-2 min-height-100vh",children:[this.displayCards(),this.state.add_device?Object(D.jsx)(G,{handleCancel:this.toggleAddDevice}):this.displayGraphs()]})]})})}}]),a}(r.Component),Z=X;var q=function(){return Object(D.jsx)("div",{className:"App",children:Object(D.jsx)(Z,{})})};s.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(q,{})}),document.getElementById("root"))},49:function(e,t,a){},50:function(e,t,a){}},[[115,1,2]]]);
//# sourceMappingURL=main.0cb15c89.chunk.js.map