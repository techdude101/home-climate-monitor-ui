{"version":3,"sources":["components/card.jsx","components/cards.jsx","components/line-chart.jsx","components/graph.jsx","utils/constants.js","utils/device.js","utils/device-data.js","components/container.jsx","App.js","index.js"],"names":["Card","date","locale","navigator","language","Intl","DateTimeFormat","dateStyle","timeStyle","hour12","format","Date","className","this","props","title","temperature","humidity","formatDate","Component","Cards","getDeviceDescription","serial","result","devices","filter","d","length","description","deviceCard","readings","undefined","map","device","timestamp","Plot","createPlotlyComponent","Plotly","LineChart","state","labels","label","xData","yData","dateData","chartData","options","numArray","Math","min","apply","max","minY1","round","getMinOfArray","yDataLeft","maxY1","getMaxOfArray","minY2","yDataRight","maxY2","setState","color","elements","point","radius","responsive","scales","y","type","position","grid","ticks","display","stepSize","y1","drawOnChartArea","x","data","name","mode","hovertemplate","yaxis","layout","margin","t","b","l","r","pad","autosize","legend","orientation","yanchor","xanchor","xaxis","text","autorange","automargin","yaxis2","range","overlaying","side","hovermode","useResizeHandler","style","maxWidth","height","React","Graph","Array","isArray","temperatures","timestamps","previousProps","previousState","labelLeft","labelRight","URL","getDevices","a","url","CONSTANTS","fetchData","hasOwnProperty","timeout","axios","method","getLastReading","device_serial","getData","start","end","replace","Container","handleChangeDevice","bind","handleBurger","last_readings","selected_device","device_data","e","console","log","target","new_selected_device","getDataLast24Hours","start_date","setDate","getDate","end_date","toISOString","document","addEventListener","elems","querySelectorAll","defaultDate","setDefaultDate","M","Datepicker","init","Promise","all","onClick","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.966a3fa4.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\n\nclass Card extends Component {\n  formatDate(date) {\n    // Get user locale from browser\n    const locale = navigator.language;\n\n    return new Intl.DateTimeFormat(locale, { dateStyle: 'short', timeStyle: 'short', hour12: false }).format(new Date(date));\n  }\n  render() {\n    return (\n      <div className=\"col s12 m5 l3\">\n        <div className=\"card blue-grey darken-4\">\n          <div className=\"card blue-grey darken-4\">\n            <div className=\"card-content white-text\">\n              <span className=\"card-span\">{this.props.title ? this.props.title : \"Title\"}</span>\n              <span className=\"card-title\">{this.props.temperature ? this.props.temperature + \"\\u00b0C\" : \"Temperature Error\"}</span>\n              <p className=\"card-span\">{this.props.humidity ? this.props.humidity + \"%\" : \"Humdity Error\"}</p>\n              <div className=\"divider\"></div>\n              <span className=\"card-span\">{this.props.date ? this.formatDate(this.props.date) : \"Date Error\"}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Card;","import React, { Component } from 'react';\n\nimport Card from './card';\n\nclass Cards extends Component {\n  getDeviceDescription = (serial) => {\n    const result = this.props.devices.filter(d => serial === d.serial);\n    // return result[0].description;\n    return result.length !== 0 ? result[0].description : \"\";\n  }\n\n  deviceCard = () => {\n    if (this.props.readings === null) return;\n    if (this.props.readings[0] === undefined) return;\n    return  this.props.readings.map((device) => {\n      if (device[0] !== undefined) {\n      return <Card\n      key={device[0].serial}\n      title={this.getDeviceDescription(device[0].serial)}\n      humidity={device[0].humidity}\n      temperature={device[0].temperature}\n      date={device[0].timestamp} />\n      } else { return \"\" }\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        {this.props.devices !== undefined ? this.deviceCard() : \"\"}\n      </div>\n    );\n  }\n}\n\nexport default Cards;","import React from 'react';\nimport Plotly from \"plotly.js-basic-dist\";\n\nimport createPlotlyComponent from \"react-plotly.js/factory\";\nconst Plot = createPlotlyComponent(Plotly);\n\nclass LineChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      labels: [],\n      label: null,\n      xData: [],\n      yData: [],\n      dateData: [],\n      chartData: {},\n      options: {},\n    }\n  }\n\n  getMinOfArray(numArray) {\n    return Math.min.apply(null, numArray);\n  }\n\n  getMaxOfArray(numArray) {\n    return Math.max.apply(null, numArray);\n  }\n\n  componentDidMount() {\n    const minY1 = Math.round(this.getMinOfArray(this.props.yDataLeft) - 1);\n    const maxY1 = Math.round(this.getMaxOfArray(this.props.yDataLeft) + 1);\n\n    const minY2 = Math.round(this.getMinOfArray(this.props.yDataRight) - 1);\n    const maxY2 = Math.round(this.getMaxOfArray(this.props.yDataRight) + 1);\n\n    this.setState({\n      options: {\n        color: '#FFF',\n        elements: {\n          point: { radius: 0 }\n        },\n        responsive: true,\n        scales: {\n          y: {\n            type: 'linear',\n            position: 'left',\n            grid: {\n              color: 'rgba(255, 255, 255, 0.1)',\n            },\n            min: minY1,\n            max: maxY1,\n            ticks: {\n              display: true,\n              stepSize: 0.5,\n              color: 'rgba(255, 255, 255, 0.7)',\n            }\n          },\n          y1: {\n            type: 'linear',\n            position: 'right',\n            grid: {\n              drawOnChartArea: false, // only want the grid lines for one axis to show up\n            },\n            min: minY2,\n            max: maxY2,\n            ticks: {\n              display: true,\n              stepSize: 0.5,\n              color: 'rgba(255, 255, 255, 0.7)',\n            }\n          },\n          x: {\n            grid: {\n              color: 'rgba(255, 255, 255, 0.1)',\n            },\n            ticks: {\n              display: true,\n              color: 'rgba(255, 255, 255, 0.7)',\n            }\n          }\n        },\n      },\n    });\n  }\n\n  render() {\n    return (\n        <Plot\n          data={[\n            {\n              x: this.props.xData,\n              y: this.props.yDataLeft,\n              name: \"Temperature\",\n              mode: 'lines',\n              hovertemplate: ' %{y:.1f}&deg;C',\n            },\n            {\n              x: this.props.xData,\n              y: this.props.yDataRight,\n              yaxis: \"y2\",\n              name: \"Humidity\",\n              mode: 'lines',\n              hovertemplate: ' %{y:.0f}%',\n            },\n          ]}\n          layout={{\n            margin: {\n              t: 90,\n              b: 90,\n              l: 70,\n              r: 70,\n              pad: 10\n            },\n\n            autosize: true,\n            legend: {\n              orientation: \"h\",\n              yanchor: \"bottom\",\n              y: 1.12,\n              xanchor: \"right\",\n              x: 1,\n            },\n            xaxis: {\n              title: { text: 'Date/Time' },\n              autorange: \"false\",\n              type: 'date',\n            },\n            yaxis: { title: 'Temperature (&deg;C)', automargin: true },\n            yaxis2: {\n              title: 'Humidity (%)',\n              range: [0, 100],\n              overlaying: 'y',\n              side: 'right',\n              automargin: true,\n            },\n            hovermode: \"x unified\",\n          }}\n          useResizeHandler={true}\n          style={{ maxWidth: \"100%\", height: \"100%\" }}\n        />\n    )\n  }\n}\n\nexport default LineChart;","import React, { Component } from 'react';\n\nimport LineChart from './line-chart';\n\nclass Graph extends Component {\n  constructor(props) {\n    super(props)\n    if (Array.isArray(this.props.data)) {\n      this.state = {\n        data: this.props.data,\n        temperatures: this.props.data.map(d => d.temperature),\n        humidity: this.props.data.map(d => d.humidity),\n        timestamps: this.props.data.map(d => d.timestamp)\n      }\n    }\n  }\n\n  componentDidUpdate(previousProps, previousState) {\n    if (previousProps.data !== this.props.data && Array.isArray(this.props.data)) {\n      const temperatures = this.props.data.map(d => d.temperature);\n      const humidity = this.props.data.map(d => d.humidity);\n      const timestamps = this.props.data.map(d => d.timestamp);\n      this.setState({\n        temperatures: temperatures,\n        humidity: humidity,\n        timestamps: timestamps\n      })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"row\">\n        <div className=\"col s12 m12 l12\">\n          <div className=\"card blue-grey darken-1\">\n            <div className=\"card-title white-text center-align hide-on-large-only\">\n              {this.props.title}\n            </div>\n            <div className=\"card-content white-text\">\n              {this.state !== null ? \n              <LineChart\n                labelLeft=\"Temperature (℃)\"\n                labelRight=\"Humidity (%)\"\n                xData={this.state.timestamps}\n                yDataLeft={this.state.temperatures}\n                yDataRight={this.state.humidity}\n                title={\" \"}\n              /> : \"\"}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Graph;","export const URL = 'https://home-climate-monitor.herokuapp.com';","import axios from 'axios';\nimport * as CONSTANTS from './constants';\n\nexport const getDevices = async () => {\n  const url = `${CONSTANTS.URL}/device/`;\n  const data = await fetchData(url);\n  return data.hasOwnProperty('data') ? data.data : [];\n};\n\nexport async function fetchData(url, timeout=4000) {\n  try {\n    return await axios({\n      method: 'get',\n      url: url,\n      timeout: timeout,\n    });\n  } catch {\n    return \"Error\";\n  }\n}","import axios from 'axios';\nimport * as CONSTANTS from './constants';\n\nexport const getLastReading = async (device_serial) => {\n  const url = `${CONSTANTS.URL}/data/${device_serial}/last`;\n  const data = await fetchData(url);\n  // console.log(data)\n  return data.data;\n};\n\nexport const getData = async (device_serial, start=new Date(), end=new Date()) => {\n  const url = `${CONSTANTS.URL}/data/${device_serial}?start=${start.replace('Z', '')}&end=${end.replace('Z', '')}`;\n  const data = await fetchData(url);\n  // console.log(data)\n  return data.data;\n};\n\nexport async function fetchData(url, timeout=4000) {\n  try {\n    return await axios({\n      method: 'get',\n      url: url,\n      timeout: timeout,\n    });\n  } catch {\n    return \"Error\";\n  }\n}","import React, { Component } from 'react';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport M from 'materialize-css/dist/js/materialize.min.js';\n\nimport Cards from './cards';\nimport Graph from './graph';\nimport { getDevices } from '../utils/device'\nimport { getLastReading, getData } from '../utils/device-data';\n\nclass Container extends Component {\n  constructor(props) {\n    super(props);\n    this.handleChangeDevice = this.handleChangeDevice.bind(this);\n    this.handleBurger = this.handleBurger.bind(this);\n    this.state = {\n      devices: null,\n      last_readings: [],\n      selected_device: null,\n      device_data: null\n    }\n  }\n\n  handleBurger(e) {\n    console.log(\"burger\");\n  }\n\n  async handleChangeDevice(e) {\n    // Check if the target device is different\n    if (e.target.text === this.state.selected_device.description) return;\n    // Update new selected device\n    let new_selected_device = this.state.devices.filter(d => d.description === e.target.text);\n    // Retrieve data from device\n    if (new_selected_device.length !== 0) {\n      // Array.filter returns array - get first element in the array\n      new_selected_device = new_selected_device[0];\n      const data = await this.getDataLast24Hours(new_selected_device.serial);\n      this.setState({\n        selected_device: new_selected_device,\n        device_data: data\n      });\n    }\n  }\n\n  async getDataLast24Hours(serial) {\n    if (serial === undefined) return;\n    if (serial == null) return;\n    let start_date = new Date();\n    start_date.setDate(start_date.getDate() - 1);\n    let end_date = new Date();\n    end_date.setDate(end_date.getDate() + 1);\n\n    return getData(serial, start_date.toISOString(), end_date.toISOString());\n  }\n\n  async componentDidMount() {\n    document.addEventListener('DOMContentLoaded', function () {\n      var elems = document.querySelectorAll('.datepicker');\n      const options = {\n        defaultDate: new Date(),\n        setDefaultDate: true,\n      }\n      var instances = M.Datepicker.init(elems, options);\n    });\n    const devices = await getDevices();\n\n    this.setState({\n      devices: devices\n    });\n\n    if (this.state.devices !== undefined) {\n      this.setState({ selected_device: this.state.devices[0] })\n      const readings = await Promise.all(this.state.devices.map((device) => {\n        return getLastReading(device.serial);\n      }));\n      this.setState({\n        last_readings: readings\n      })\n\n      let start_date = new Date();\n      start_date.setDate(start_date.getDate() - 1);\n      let end_date = new Date();\n      end_date.setDate(end_date.getDate() + 1);\n      if (this.state.selected_device !== undefined) {\n        const data = await getData(this.state.selected_device.serial, start_date.toISOString(), end_date.toISOString());\n        if (data !== undefined) {\n          this.setState({ device_data: data });\n        }\n      }\n    }\n  }\n  render() {\n    return (\n      <div>\n        <div className=\"row margin-none\">\n          <div className=\"hide-on-med-and-up center-align\">\n            <h1 className=\"white-text margin-none header-title\">Dashboard</h1>\n            <div className=\"burger\" onClick={this.handleBurger}>\n              <div></div>\n              <div></div>\n              <div></div>\n            </div>\n            <ul className=\"mobileNav\">\n              {this.state.devices != null ? this.state.devices.map(device => {\n                return <li key={device.serial}><a onClick={this.handleChangeDevice} className=\"waves-effect waves-light btn grey darken-2 sidebar-links\">{device.description}</a></li>\n              }) : \"\"}\n            </ul>\n          </div>\n          <div className=\"col s12 m4 l2 blue-grey darken-3 min-height-100 hide-on-med-and-down\">\n            <div className=\"section white-text text-center\">\n              <h1 className=\"white-text sidebar-title\">Graphs</h1>\n              <div className=\"divider\"></div>\n              <input type=\"text\" className=\"datepicker datepicker-override\"></input>\n              <ul>\n                {this.state.devices != null ? this.state.devices.map(device => {\n                  return <li key={device.serial}><a onClick={this.handleChangeDevice} className=\"waves-effect waves-light btn grey darken-2 sidebar-links\">{device.description}</a></li>\n                }) : \"\"}\n              </ul>\n            </div>\n          </div>\n          <div className=\"col s12 m12 l10 blue-grey darken-2 min-height-100vh\">\n            {this.state.last_readings != null ?\n              <Cards readings={this.state.last_readings} devices={this.state.devices} />\n              : \"\"}\n            {this.state.device_data != null && this.state.device_data !== undefined && this.state.device_data.length > 1 ?\n              <Graph data={this.state.device_data} title={this.state.selected_device.description} />\n              : \"\"}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Container;","import './App.css';\n\nimport Container from './components/container';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Container />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}